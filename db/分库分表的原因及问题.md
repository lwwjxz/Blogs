[方案虽好，成本先行：数据库Sharding+Proxy实践解析](https://dbaplus.cn/news-11-1854-1.html)      
1. 分表原因:解决单表性能瓶颈。      
2. 分库原因:解决单库性能瓶颈。    
3. 静态分表：事先估算出表能达到的量，然后根据每一个表需要存多少数据直接算出需要创建表的数量。如：1亿数据每一个表 100W 条数据那就要建100张表，然后通过一定的hash算法计算每一条数据存放在那张表。其实就有点像是使用partition table 一样。静态分表有一个毙命就是当分的那么多表还不满足时，需要再扩展难度和成本就会很高。     
4. 动态分表：同样也是对大数据量的表进行拆分，他可以避免静态分表带来的后遗症。当然也需要在设计上多一些东西（这往往是我们能接受的）。   
1. 问题：
    1. 对sql侵入很大，不能写复杂sql，弱化DB的功能，好多复杂的sql不能用。    
    1. sql 不能跨维度join,聚合等。    
    1. 全局唯一键要自己生成。    
    1. 维度不好选，用哪个字段分表。   
    1. 大部分业务需要多维度支持，比如按userID分表，但是有时候需要按时间维度查询。摇号因为办法及引起的问题。   
        1. 确定以哪个维度为主。   
        1. 冗余其他业务的数据，需要考虑全局事务的问题。   
        1. 同步还是异步，同步依赖应用端实现双写容易引起性能问题。异步存在实效性问题。     
    1. 热点如何均摊。    
    1. hash算法能均匀的分散热点数据，但对范围查询需要访问多个分片，range算法存在热点数据问题，所以要求在设计之初就要清楚自己的业务类型。    
    1. 高可用的扩散问题(一个集群不可用，整个业务不可用)   
    1. 脑裂问题。
  
