1. 2PC      
  1. Prepare。执行任务但是不提交。      
  1. Commit/Rollback。真正的提交或回滚    

1. 3PC        
  1. CanCommit。参与者检查自身的监控状态确定能不能执行本次任务       
  2. PreCommit。执行任务但是不提交      
  1. Commit。     

1. 2PC VS 3PC        
  1. 相同点      
    1. 协调者都是单点。        
    1. 都不能绝对保证一致性。         
  2. 不同点         
    1. 3PC的事务询问阶段成本比2PC的提交事务请求低，有问题可以快速失败所以较低了参与者的阻塞范围。       
    1. 3PC中第三阶段如果参与者没有接受到协调者的回滚需求也会提交，所以比2PC更乐观。       
  
